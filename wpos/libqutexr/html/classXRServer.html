<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>XRServer class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>XRServer  Class Reference</h1><code>#include &lt;<a class="el" href="xrserver_8h-source.html">xrserver.h</a>&gt;</code>
<p>
<p>Inheritance diagram for XRServer:
<p><center><img src="classXRServer.png" usemap="#XRServer_map" border="0"></center>
<map name="XRServer_map">
<area href="classXRValidationServer.html" alt="XRValidationServer" shape="rect" coords="0,56,124,80">
</map>
<a href="classXRServer-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Slots</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#g0">sendMethodResponse</a> (int req, const QVariant &amp;result)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#g1">sendFault</a> (int req, int fault_code, const QString &amp;fault_string)</td></tr>
<tr><td colspan=2><br><h2>Signals</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#j0">methodCall</a> (int req, const QString &amp;methodname, const QList&lt; QVariant &gt; &amp;params, bool &amp;handled)</td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#a0">XRServer</a> (Q_UINT16 port=8080, int backlog=1, QObject *parent=0, const char *name=0)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#a1">~XRServer</a> ()</td></tr>
<tr><td nowrap align=right valign=top>QHostAddress&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#a2">getPeerForRequest</a> (int req) const</td></tr>
<tr><td colspan=2><br><h2>Protected Slots</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#h0">readFromClient</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#h1">deleteClient</a> ()</td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#b0">newConnection</a> (int socket)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#b1">parseContentAndEmit</a> (QSocket *s)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#b2">sendHttpError</a> (QSocket *s, int status_code, const QString &amp;reason, QString resp)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#b3">sendHttpResponse</a> (QSocket *s, int status_code, const QString &amp;reason, QHttpHeader &amp;headers, QString resp)</td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>QMap&lt; QSocket *, QString &gt;&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#n0">_header_strings</a></td></tr>
<tr><td nowrap align=right valign=top>QMap&lt; QSocket *, QHttpRequestHeader &gt;&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#n1">_headers</a></td></tr>
<tr><td nowrap align=right valign=top>QMap&lt; QSocket *, bool &gt;&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#n2">_open_sockets</a></td></tr>
<tr><td nowrap align=right valign=top>QMap&lt; int, QSocket * &gt;&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#n3">_req_to_socket</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classXRServer.html#n4">_last_req</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides a minimal HTTP Server to handle XML-RPC requests and emit signals when requests are recieved. This server implements only what is required for XML-RPC, with a few extras. In particular, connections are left open (when compatible with the HTTP spec). Leaving TCP connections open results in usually 3 packets being sent per methodCall (assuming small calls and responses), as opposed to 10-12 if the connection is set up and destroyed each time. It also supports sending compressed (deflate) responses which DRAMATICALLY reduces the size of XML-RPC responses.
<p>
<dl compact><dt><b>
See also: </b><dd>
<a href="http://www.xmlrpc.com/spec">http://www.xmlrpc.com/spec</a> , <a href="http://www.ietf.org/internet-drafts/draft-megacz-xmc-01.txt">http://www.ietf.org/internet-drafts/draft-megacz-xmc-01.txt</a> </dl>
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="XRServer::XRServer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XRServer::XRServer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Q_UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>port</em> = 8080, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>backlog</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>QObject *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parent</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create an xml-rpc server on given port. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>port</em>&nbsp;</td><td>
the port to bind to </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="XRServer::~XRServer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XRServer::~XRServer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete (which closes) all the sockets immediately. Does not do any graceful closing of the HTTP connections.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="h1" doxytag="XRServer::deleteClient"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::deleteClient </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected, slot]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The constructor connects this slot to QServerSocket::delayedCloseFinished()     </td>
  </tr>
</table>
<a name="a2" doxytag="XRServer::getPeerForRequest"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QHostAddress XRServer::getPeerForRequest </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>req</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lightweight authentication function. Useful if you only want certain hosts to be able to call a method. Returns 0.0.0.0 if the request is not an active request. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>req</em>&nbsp;</td><td>
a request number </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
the host address for the peer that made the request. </dl>    </td>
  </tr>
</table>
<a name="j0" doxytag="XRServer::methodCall"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::methodCall </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>req</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>methodname</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QList&lt; QVariant &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>params</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handled</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [signal]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This signal is emitted when a new method call comes in. Handlers should connect to this signal. Qt's signal and slot mechanism will make sure it gets to all handlers. Each handler is responsible for checking the method name and seeing if this is a request they should handle. If they do, they set handled to true.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>req</em>&nbsp;</td><td>
This is an identifier for the call </td></tr>
<tr><td valign=top><em>handled</em>&nbsp;</td><td>
This is initialized as false, and when a slot handles this methodcall, it should be set to true. </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classXRServer.html#g0">sendMethodResponse</a> , <a class="el" href="classXRServer.html#g1">sendFault</a> </dl>    </td>
  </tr>
</table>
<a name="b0" doxytag="XRServer::newConnection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::newConnection </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>socket</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>the</em>&nbsp;</td><td>
socket number for the new connection. This is a method implemented from QServerSocket </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="b1" doxytag="XRServer::parseContentAndEmit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::parseContentAndEmit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QSocket *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>s</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>s</em>&nbsp;</td><td>
the socket to parse the XML in and then emit a signal to handle the request </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="h0" doxytag="XRServer::readFromClient"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::readFromClient </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected, slot]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The constructor connects this slot to QServerSocket::readyRead()     </td>
  </tr>
</table>
<a name="g1" doxytag="XRServer::sendFault"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::sendFault </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>req</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fault_code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fault_string</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [slot]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
When a methodCall is handled with an unsuccessful (fault) result, this slot is used to send the fault back to the caller. Either this, or <a class="el" href="classXRServer.html#g0">XRServer::sendMethodResponse</a> may be called, but not both.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>req</em>&nbsp;</td><td>
the request this is a fault for </td></tr>
<tr><td valign=top><em>fault_code</em>&nbsp;</td><td>
the number of the fault that occured. </td></tr>
<tr><td valign=top><em>fault_string</em>&nbsp;</td><td>
the string representation of the fault </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a href="http://xmlrpc-epi.sourceforge.net/specs/rfc.fault_codes.php">http://xmlrpc-epi.sourceforge.net/specs/rfc.fault_codes.php</a> , <a class="el" href="classXRServer.html#b3">sendHttpResponse</a> </dl>    </td>
  </tr>
</table>
<a name="b2" doxytag="XRServer::sendHttpError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::sendHttpError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QSocket *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>s</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>status_code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reason</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>QString&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>resp</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convienience function to handle the HTTP transport.     </td>
  </tr>
</table>
<a name="b3" doxytag="XRServer::sendHttpResponse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::sendHttpResponse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QSocket *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>s</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>status_code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reason</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>QHttpHeader &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>headers</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>QString&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>resp</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convienience function to handle the HTTP transport. Used to send responses and faults <dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classXRServer.html#g0">sendMethodResponse</a> , <a class="el" href="classXRServer.html#g1">sendFault</a> </dl>    </td>
  </tr>
</table>
<a name="g0" doxytag="XRServer::sendMethodResponse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XRServer::sendMethodResponse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>req</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QVariant &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>result</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [slot]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
When a methodCall is handled with a successful (non-fault) result, this slot is used to send the response back to the caller. Either this, or <a class="el" href="classXRServer.html#g1">XRServer::sendFault</a> may be called, but not both.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>req</em>&nbsp;</td><td>
the request this is a response for  </td></tr>
<tr><td valign=top><em>result</em>&nbsp;</td><td>
the result of the methodcall. If the result cannot be converted to a XML-RPC type (using <a class="el" href="classXRVariant.html">XRVariant</a>) an application fault is sent (faultCode -32500). </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classXRServer.html#j0">methodCall</a> , <a class="el" href="classXRServer.html#b3">sendHttpResponse</a> , <a class="el" href="classXRVariant.html">XRVariant</a> </dl>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="n0" doxytag="XRServer::_header_strings"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QMap&lt;QSocket*, QString&gt; XRServer::_header_strings<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Until we read all the headers, each time we can read data, we check to see if we can read an entire line. If we can, we append to header strings recieved so far. When we get an empty line (which in HTTP means the headers are over) we create an HttpRequestHeader and add it to _headers     </td>
  </tr>
</table>
<a name="n1" doxytag="XRServer::_headers"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QMap&lt;QSocket*, QHttpRequestHeader&gt; XRServer::_headers<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stores the complete headers for the current request from a socket. If there is not current request, this map will have no entry for the socket. In this way, it also represents a set of sockets that have active requests.     </td>
  </tr>
</table>
<a name="n4" doxytag="XRServer::_last_req"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int XRServer::_last_req<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Counter that increases with each request.     </td>
  </tr>
</table>
<a name="n2" doxytag="XRServer::_open_sockets"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QMap&lt;QSocket*,bool&gt; XRServer::_open_sockets<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Since QT does not have a Set object, and we don't want to introduce an STL dependence for one class, we hack QMap to be a set of open sockets. When the destructor is called, all these sockets are deleted.     </td>
  </tr>
</table>
<a name="n3" doxytag="XRServer::_req_to_socket"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QMap&lt;int,QSocket*&gt; XRServer::_req_to_socket<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Keeps track of requests for each socket.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="xrserver_8h-source.html">xrserver.h</a><li>xrserver.cpp</ul>
<hr><address align="right"><small>Generated on Tue Feb 25 18:38:57 2003 for qutexr by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
